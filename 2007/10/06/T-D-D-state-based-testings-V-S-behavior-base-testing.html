<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>TDD : state-based testings VS behavior-base testing</title>
    <meta name="description" content="" />
    <link href="//fonts.googleapis.com/css?family=Noto+Sans:300,400,700" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic" rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href="//sgalles.github.io/themes/Saga/assets/css/style.css?v=1.0.0" rel="stylesheet" type="text/css">
    <link href="//sgalles.github.io/themes/Saga/assets/css/animate.min.css?v=1.0.0" rel="stylesheet" type="text/css">
    <link href="//sgalles.github.io/themes/Saga/favicon.ico" rel="shortcut icon">
    <link rel="canonical" href="https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html" />
    
    <meta property="og:site_name" content="void   techBlog()   { //... }" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="TDD : state-based testings VS behavior-base testing" />
    <meta property="og:description" content="Using TDD to write my code I&amp;#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&amp;#8217;s the difference between state-based testing (no mocks) and behavior-based..." />
    <meta property="og:url" content="https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html" />
    <meta property="article:published_time" content="2007-10-05T22:00:00.000Z" />
    <meta property="article:modified_time" content="2016-07-11T19:12:44.309Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="TDD : state-based testings VS behavior-base testing" />
    <meta name="twitter:description" content="Using TDD to write my code I&amp;#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&amp;#8217;s the difference between state-based testing (no mocks) and behavior-based..." />
    <meta name="twitter:url" content="https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "void   techBlog()   { //... }",
    "author": {
        "@type": "Person",
        "name": "Stephane Gallès",
        "image": "https://avatars.githubusercontent.com/u/153065?v=3",
        "url": "undefined/author/undefined",
        "sameAs": "http://sgalles.github.io/"
    },
    "headline": "TDD : state-based testings VS behavior-base testing",
    "url": "https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html",
    "datePublished": "2007-10-05T22:00:00.000Z",
    "dateModified": "2016-07-11T19:12:44.309Z",
    "description": "Using TDD to write my code I&amp;#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&amp;#8217;s the difference between state-based testing (no mocks) and behavior-based..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="void   techBlog()   { //... }" href="https://sgalles.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template">
    <header id="header" class="animated fadeIn">
    <div class="header-background">
    <section class="blog-content">
        <a id="site-url" class="blog-title" href="https://sgalles.github.io">void   techBlog()   { //... }</a>
        <span class="blog-description">My attemps to arrange 0 and 1 and make something vaguely useful</span>
        <nav class="links fadeIn animated">
            <ul>
                <!-- <li class="rss"><a title="RSS Feed" href="/rss/"><i class="fa fa-fw fa-rss-square"></i></a></li> -->
        
            </ul>
        </nav>
    </section>
    <section class="header-content">
        <h1 class="post-title animated fadeInUp">TDD : state-based testings VS behavior-base testing</h1>
        <span class="post-data"><span class="date animated fadeInUp"><i class="fa fa-clock-o"></i> <time class="timesince date" data-timesince="1191621600" datetime="2007-10-06T00:00" title="06 October 2007">2007-10-06 00:00:00<ago class="ago"></time></span>
            
            <span class="author animated fadeInUp"><i class="fa fa-user"></i> <a href="">Stephane Gallès</a></span></span>
    </section>
    </div>
</header>
<main id="main" class="content">
    <article itemtype="http://schema.org/BlogPosting" class="animated fadeIn content post post">
        <section class="post-content">
            <div class="paragraph">
<p>Using TDD to write my code I&#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&#8217;s the difference between state-based testing (no mocks) and behavior-based testing (using mocks) explained in this brilliant article by Martin Fowler : <a href="http://martinfowler.com/articles/mocksArentStubs.html">Mocks Aren&#8217;t Stubs</a></p>
</div>
<div class="paragraph">
<p>I&#8217;m sure that both technics are useful and I switch from one technic to an other depending on the complexity of the objects I&#8217;m testing.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>State-based testing (no mock) tend to increase the amount of integration test between objects, so is better suited to tests clusters of object with complex interaction</p>
</li>
<li>
<p>Behaviour-based testing (with mocks) tend to increase the test coverage on a given object as it is easier to control the test environment of the object under test</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using mocks objects tend to create more work, but the more I use them the more I detect bugs in my code that would very hard, or impossible to detect with state-based testing.</p>
</div>
<div class="paragraph">
<p>Last time it happened it allowed me to see that an external object was called and was not supposed to be called (because the mock was called and warned me that it was an unexpected call)</p>
</div>
<div class="paragraph">
<p>I would have never been able to detect this call with state base testing because :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It did not change the state of the object under test</p>
</li>
<li>
<p>It did not change the state of the external object</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However the call to the real external object is very CPU intensive and would have harmed the performance. Behavior based testing allowed me to see this, it would have been undetected with state-based testing.</p>
</div>
        </section>

    
        <section class="post-comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          var disqus_shortname = 'voidtechblog'; // required: replace example with your forum shortname
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </section>
    
    </article>

</main>
    <footer class="animated fadeIn" id="footer">
        <section class="colophon">
          <section class="copyright">Copyright &copy; <span itemprop="copyrightHolder">void   techBlog()   { //... }</span>. <span rel="license">All Rights Reserved</span>.</section>
          <section class="poweredby">Published with <a class="icon-ghost" href="http://hubpress.io">HubPress</a></section>
        </section>
        <section class="bottom">
          <section class="attribution">
            <a href="http://github.com/Reedyn/Saga">Built with <i class="fa fa-heart"></i> and Free and Open-Source Software</a>.
          </section>
        </section>
    </footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>
    <script src="//sgalles.github.io/themes/Saga/assets/js/scripts.js?v=1.0.0"></script>
    
</body>
</html>
