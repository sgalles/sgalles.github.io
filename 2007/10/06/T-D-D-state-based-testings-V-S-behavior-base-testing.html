<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>TDD : state-based testings VS behavior-base testing</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="//sgalles.github.io/themes/Casper/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//sgalles.github.io/themes/Casper/assets/css/screen.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html" />
    
    <meta property="og:site_name" content="void   techBlog()   { world.forEach(person -&gt; say( &quot;Hello &quot; + person )); }" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="TDD : state-based testings VS behavior-base testing" />
    <meta property="og:description" content="Using TDD to write my code I&amp;#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&amp;#8217;s the difference between state-based testing (no mocks) and behavior-based..." />
    <meta property="og:url" content="https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html" />
    <meta property="article:published_time" content="2007-10-05T22:00:00.000Z" />
    <meta property="article:modified_time" content="2016-05-25T05:55:45.320Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="TDD : state-based testings VS behavior-base testing" />
    <meta name="twitter:description" content="Using TDD to write my code I&amp;#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&amp;#8217;s the difference between state-based testing (no mocks) and behavior-based..." />
    <meta name="twitter:url" content="https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "void   techBlog()   { world.forEach(person -&gt; say( &quot;Hello &quot; + person )); }",
    "author": {
        "@type": "Person",
        "name": "Stephane Gallès",
        "image": "https://avatars.githubusercontent.com/u/153065?v=3",
        "url": "undefined/author/undefined",
        "sameAs": "https://plus.google.com/108710960409593252381"
    },
    "headline": "TDD : state-based testings VS behavior-base testing",
    "url": "https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html",
    "datePublished": "2007-10-05T22:00:00.000Z",
    "dateModified": "2016-05-25T05:55:45.320Z",
    "description": "Using TDD to write my code I&amp;#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&amp;#8217;s the difference between state-based testing (no mocks) and behavior-based..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="void   techBlog()   { world.forEach(person -&gt; say( &quot;Hello &quot; + person )); }" href="https://sgalles.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template">

    


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="https://sgalles.github.io">Home</a>
        <!-- <a class="subscribe-button icon-feed" href="https://sgalles.github.io/rss/">Subscribe</a> -->
    </nav>
</header>

<main class="content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">TDD : state-based testings VS behavior-base testing</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2007-10-06">06 October 2007</time> 
            </section>
        </header>

        <section class="post-content">
            <div class="paragraph">
<p>Using TDD to write my code I&#8217;m still trying to find when I should use mock objects or just test against the whole cluster of objects. That&#8217;s the difference between state-based testing (no mocks) and behavior-based testing (using mocks) explained in this brilliant article by Martin Fowler : <a href="http://martinfowler.com/articles/mocksArentStubs.html">Mocks Aren&#8217;t Stubs</a></p>
</div>
<div class="paragraph">
<p>I&#8217;m sure that both technics are useful and I switch from one technic to an other depending on the complexity of the objects I&#8217;m testing.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>State-based testing (no mock) tend to increase the amount of integration test between objects, so is better suited to tests clusters of object with complex interaction</p>
</li>
<li>
<p>Behaviour-based testing (with mocks) tend to increase the test coverage on a given object as it is easier to control the test environment of the object under test</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using mocks objects tend to create more work, but the more I use them the more I detect bugs in my code that would very hard, or impossible to detect with state-based testing.</p>
</div>
<div class="paragraph">
<p>Last time it happened it allowed me to see that an external object was called and was not supposed to be called (because the mock was called and warned me that it was an unexpected call)</p>
</div>
<div class="paragraph">
<p>I would have never been able to detect this call with state base testing because :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It did not change the state of the object under test</p>
</li>
<li>
<p>It did not change the state of the external object</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However the call to the real external object is very CPU intensive and would have harmed the performance. Behavior based testing allowed me to see this, it would have been undetected with state-based testing.</p>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="" style="background-image: url(https://avatars.githubusercontent.com/u/153065?v=3)"><span class="hidden">Stephane Gallès's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="">Stephane Gallès</a></h4>

                    <p>Read <a href="">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    <span class="author-link icon-link"><a href="https://plus.google.com/108710960409593252381">https://plus.google.com/108710960409593252381</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=TDD%20%3A%20state-based%20testings%20VS%20behavior-base%20testing&amp;url=https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://sgalles.github.io/2007/10/06/T-D-D-state-based-testings-V-S-behavior-base-testing.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="https://sgalles.github.io">void   techBlog()   { world.forEach(person -&gt; say( &quot;Hello &quot; + person )); }</a> &copy; 2016</section>
        <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
    </footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//sgalles.github.io/themes/Casper/assets/js/jquery.fitvids.js?v=1.0.0"></script>
    <script type="text/javascript" src="//sgalles.github.io/themes/Casper/assets/js/index.js?v=1.0.0"></script>

</body>
</html>
